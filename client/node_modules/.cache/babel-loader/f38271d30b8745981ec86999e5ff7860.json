{"ast":null,"code":"import _classCallCheck from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/node_modules/@babel/runtime/helpers/esm/inherits\";import $ from'jquery';import React from'react';import{BarChart,Bar,Brush,ReferenceLine,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={sums:[]};_this.serverRequest=_this.serverRequest.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"serverRequest\",value:function serverRequest(){var _this2=this;$.get(\"http://localhost:5000/api/logs/sums\",function(res){console.log(res);_this2.setState({sums:res});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.serverRequest();}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"ui grid container\"},React.createElement(\"div\",{className:\"row centered\"},React.createElement(\"h1\",null,\"Hello, Soya\")),React.createElement(\"div\",{className:\"row centered\"},React.createElement(Chart,{className:\"column\",datas:this.state.sums}),React.createElement(RenderPrice,{className:\"column\",datas:this.state.sums})));}}]);return Home;}(React.Component);function Chart(props){return React.createElement(ResponsiveContainer,{width:\"70%\",height:300},React.createElement(BarChart,{data:props.datas,stackOffset:\"sign\",margin:{top:5,right:30,left:20,bottom:5}},React.createElement(CartesianGrid,{strokeDasharray:\"3 3\"}),React.createElement(XAxis,{dataKey:\"date\"}),React.createElement(YAxis,null),React.createElement(Tooltip,null),React.createElement(Legend,{verticalAlign:\"price\",height:30,stroke:\"#8884d8\"}),React.createElement(ReferenceLine,{y:0,stroke:\"#000\"}),React.createElement(Brush,{dataKey:\"date\",height:30,stroke:\"#8884d8\"}),React.createElement(Bar,{dataKey:\"price\",stackId:\"a\",fill:\"#82ca9d\"}),React.createElement(Bar,{dataKey:\"diff\",stackId:\"a\",fill:\"#8884d8\"}),React.createElement(Bar,{dataKey:\"total\",fill:\"#ffc658\"})));}function RenderPrice(props){console.log(props.datas);return React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Total earn\"),props.datas.map(function(data,id,arr){return id==arr.length-1&&React.createElement(\"h2\",null,\"\\xA5\",data.total);}));}export default Home;","map":{"version":3,"sources":["/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/src/Home.js"],"names":["$","React","BarChart","Bar","Brush","ReferenceLine","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Home","props","state","sums","serverRequest","bind","get","res","console","log","setState","Component","Chart","datas","top","right","left","bottom","RenderPrice","map","data","id","arr","length","total"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport React from 'react';\nimport {\n  BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis,\n  CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sums: [],\n    };\n    this.serverRequest = this.serverRequest.bind(this);\n  }\n  serverRequest(){\n    $.get(\"http://localhost:5000/api/logs/sums\", res => {\n      console.log(res);\n      this.setState({\n        sums: res\n      });\n    });\n  }\n  componentDidMount(){\n    this.serverRequest();\n  }\n  render() {\n    return (\n      <div className=\"ui grid container\">\n        <div className=\"row centered\">\n          <h1>Hello, Soya</h1>\n        </div>\n        <div className=\"row centered\">\n          <Chart className=\"column\" datas={this.state.sums}/>\n          <RenderPrice className=\"column\" datas={this.state.sums}/>\n        </div>\n      </div>\n    )\n  }\n}\nfunction Chart(props) {\n  return (\n    <ResponsiveContainer width=\"70%\" height={300}>\n      <BarChart\n        data={props.datas}\n        stackOffset=\"sign\"\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"date\" />\n        <YAxis />\n        <Tooltip />\n        <Legend verticalAlign=\"price\" height={30} stroke=\"#8884d8\" />\n        <ReferenceLine y={0} stroke=\"#000\" />\n        <Brush dataKey=\"date\" height={30} stroke=\"#8884d8\" />\n        <Bar dataKey=\"price\" stackId=\"a\" fill=\"#82ca9d\" />\n        <Bar dataKey=\"diff\" stackId=\"a\" fill=\"#8884d8\" />\n        <Bar dataKey=\"total\" fill=\"#ffc658\" />\n      </BarChart>\n    </ResponsiveContainer>\n  )\n}\nfunction RenderPrice(props) {\n  console.log(props.datas);\n  return (\n    <div>\n    <h2>Total earn</h2>\n    {props.datas.map((data, id, arr) => (\n      id == arr.length-1 && \n        <h2>Â¥{data.total}</h2>\n    ))}\n    </div>\n  )\n}\nexport default Home; \n"]},"metadata":{},"sourceType":"module"}