{"ast":null,"code":"var _jsxFileName = \"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/src/Home.js\";\nimport $ from 'jquery';\nimport React from 'react';\nimport { BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Button, Header, Modal, Icon, Form, Select } from 'semantic-ui-react';\nconst Options = [{\n  key: \"tr\",\n  value: \"tr\",\n  text: \"Transport\"\n}, {\n  key: \"fo\",\n  value: \"fo\",\n  text: \"Food\"\n}, {\n  key: \"bo\",\n  value: \"bo\",\n  text: \"Book\"\n}, {\n  key: \"ni\",\n  value: \"ni\",\n  text: \"Nichi\"\n}, {\n  key: \"jo\",\n  value: \"jo\",\n  text: \"Jou\"\n}, {\n  key: \"ke\",\n  value: \"ke\",\n  text: \"KEi\"\n}];\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sums: []\n    };\n    this.serverRequest = this.serverRequest.bind(this);\n    this.postRequest = this.postRequest.bind(this);\n  }\n\n  serverRequest() {\n    $.get(\"http://localhost:5000/api/logs/sums\", res => {\n      console.log(res);\n      this.setState({\n        sums: res\n      });\n    });\n  }\n\n  postRequest() {\n    console.log(\"here is ajax\");\n    $.ajax({\n      url: 'http://localhost:5000/api/logs/items',\n      type: 'post',\n      data: {\n        \"name\": \"tea\",\n        \"category\": \"food\",\n        \"price\": 120,\n        \"date\": \"2019/11/7\"\n      },\n      headers: {\n        \"Content-Type\": 'application/json',\n        \"Access-Control-Allow-Origin\": '*'\n      },\n      dataType: 'json'\n    });\n    {\n      /*$.post(\"http://localhost:5000/api/logs/items\",\n       {\n         \"name\": \"tea\",\n         \"category\": \"food\",\n         \"price\": 120,\n         \"date\": \"2019/11/7\",\n       });\n      console.log(\"Here is post function\");*/\n    }\n  }\n\n  componentDidMount() {\n    this.serverRequest();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ui grid container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Hello, Soya\")), React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(AddRecord, {\n      postRequest: this.serverRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      className: \"column\",\n      datas: this.state.sums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(RenderPrice, {\n      className: \"column\",\n      datas: this.state.sums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass AddRecord extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.open = () => this.setState({\n      open: true\n    });\n\n    this.close = () => this.setState({\n      open: false\n    });\n\n    this.state = {\n      open: false\n    };\n  }\n\n  render() {\n    return React.createElement(Modal, {\n      trigger: React.createElement(Button, {\n        onClick: this.open,\n        className: \"ui primary button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"money icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), \" Add Record\"),\n      open: this.state.open,\n      onClose: this.close,\n      basic: true,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Add a new Record\"), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Modal.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Detail\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Category\"), React.createElement(Select, {\n      placeholder: \"Select Category\",\n      options: Options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"input\", {\n      placeholder: \"Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.props.postRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(Button, {\n      onClick: this.close,\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), \"Cancel\")))));\n  }\n\n}\n\nfunction Chart(props) {\n  return React.createElement(ResponsiveContainer, {\n    width: \"70%\",\n    height: 300,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(BarChart, {\n    data: props.datas,\n    stackOffset: \"sign\",\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(XAxis, {\n    dataKey: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(YAxis, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }), React.createElement(Tooltip, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), React.createElement(Legend, {\n    verticalAlign: \"price\",\n    height: 30,\n    stroke: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(ReferenceLine, {\n    y: 0,\n    stroke: \"#000\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(Brush, {\n    dataKey: \"date\",\n    height: 30,\n    stroke: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"price\",\n    stackId: \"a\",\n    fill: \"#82ca9d\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"diff\",\n    stackId: \"a\",\n    fill: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"total\",\n    fill: \"#ffc658\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })));\n}\n\nfunction RenderPrice(props) {\n  console.log(props.datas);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Total earn\"), props.datas.map((data, id, arr) => id == arr.length - 1 && React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"\\xA5\", data.total)));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/src/Home.js"],"names":["$","React","BarChart","Bar","Brush","ReferenceLine","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Button","Header","Modal","Icon","Form","Select","Options","key","value","text","Home","Component","constructor","props","state","sums","serverRequest","bind","postRequest","get","res","console","log","setState","ajax","url","type","data","headers","dataType","componentDidMount","render","AddRecord","open","close","Chart","datas","top","right","left","bottom","RenderPrice","map","id","arr","length","total"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport React from 'react';\nimport {\n  BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis,\n  CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\n\nimport {Button, Header, Modal, Icon, Form, Select} from 'semantic-ui-react'\n\n  const Options = [\n    {key:\"tr\", value:\"tr\", text:\"Transport\"},\n    {key:\"fo\", value:\"fo\", text:\"Food\"},\n    {key:\"bo\", value:\"bo\", text:\"Book\"},\n    {key:\"ni\", value:\"ni\", text:\"Nichi\"},\n    {key:\"jo\", value:\"jo\", text:\"Jou\"},\n    {key:\"ke\", value:\"ke\", text:\"KEi\"},\n  ]\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sums: [],\n    };\n    this.serverRequest = this.serverRequest.bind(this);\n    this.postRequest = this.postRequest.bind(this);\n  }\n  serverRequest(){\n    $.get(\"http://localhost:5000/api/logs/sums\", res => {\n      console.log(res);\n      this.setState({\n        sums: res\n      });\n    });\n  }\n  postRequest(){\n    console.log(\"here is ajax\");\n    $.ajax({\n      url: 'http://localhost:5000/api/logs/items',\n      type: 'post',\n      data: {\n        \"name\": \"tea\",\n        \"category\": \"food\",\n        \"price\": 120,\n        \"date\": \"2019/11/7\",\n      },\n      headers: {\n        \"Content-Type\": 'application/json',\n        \"Access-Control-Allow-Origin\": '*'\n      },\n      dataType: 'json'\n    });\n    {/*$.post(\"http://localhost:5000/api/logs/items\",\n      {\n        \"name\": \"tea\",\n        \"category\": \"food\",\n        \"price\": 120,\n        \"date\": \"2019/11/7\",\n      });\n    console.log(\"Here is post function\");*/}\n  }\n  componentDidMount(){\n    this.serverRequest();\n  }\n  render() {\n    return (\n      <div className=\"ui grid container\">\n        <div className=\"row centered\">\n          <h1>Hello, Soya</h1>\n        </div>\n        <div className=\"row centered\">\n          <AddRecord postRequest={this.serverRequest}/>\n        </div>\n        <div className=\"row centered\">\n          <Chart className=\"column\" datas={this.state.sums}/>\n          <RenderPrice className=\"column\" datas={this.state.sums}/>\n        </div>\n      </div>\n    )\n  }\n}\nclass AddRecord extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      open: false\n    }; \n  }\n  open = () => this.setState({ open: true })\n  close = () => this.setState({ open: false })\n  render() {\n    return(\n      <Modal trigger={\n        <Button onClick={this.open} className=\"ui primary button\">\n          <i className=\"money icon\"></i> Add Record\n        </Button>}\n        open={this.state.open}\n        onClose={this.close}\n        basic\n        size='small'\n      >\n        <Modal.Header>Add a new Record</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <Header>Detail</Header>\n            <Form>\n              <Form.Field>\n                <label>Name</label>\n                <input placeholder=\"Name\"/>\n              </Form.Field>\n              <Form.Field>\n                <label>Category</label>\n                <Select placeholder='Select Category' options={Options}/>\n              </Form.Field>\n              <Form.Field>\n                <label>Price</label>\n                <input placeholder=\"Price\"/>\n              </Form.Field>\n              <Button onClick={this.props.postRequest}>Submit</Button>\n              <Button onClick={this.close} negative>\n                <Icon name='remove'/>Cancel\n              </Button>\n            </Form>\n          </Modal.Description>\n        </Modal.Content>\n      </Modal>\n    )\n  }\n}\nfunction Chart(props) {\n  return (\n    <ResponsiveContainer width=\"70%\" height={300}>\n      <BarChart\n        data={props.datas}\n        stackOffset=\"sign\"\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"date\" />\n        <YAxis />\n        <Tooltip />\n        <Legend verticalAlign=\"price\" height={30} stroke=\"#8884d8\" />\n        <ReferenceLine y={0} stroke=\"#000\" />\n        <Brush dataKey=\"date\" height={30} stroke=\"#8884d8\" />\n        <Bar dataKey=\"price\" stackId=\"a\" fill=\"#82ca9d\" />\n        <Bar dataKey=\"diff\" stackId=\"a\" fill=\"#8884d8\" />\n        <Bar dataKey=\"total\" fill=\"#ffc658\" />\n      </BarChart>\n    </ResponsiveContainer>\n  )\n}\nfunction RenderPrice(props) {\n  console.log(props.datas);\n  return (\n    <div>\n    <h2>Total earn</h2>\n    {props.datas.map((data, id, arr) => (\n      id == arr.length-1 && \n        <h2>Â¥{data.total}</h2>\n    ))}\n    </div>\n  )\n}\nexport default Home; \n"]},"metadata":{},"sourceType":"module"}