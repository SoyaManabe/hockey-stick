{"ast":null,"code":"var _jsxFileName = \"/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/src/Home.js\";\nimport $ from 'jquery';\nimport React from 'react';\nimport { BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport axios from 'axios';\nimport { Button, Header, Modal, Icon, Form, Select } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\nimport 'react-semantic-toasts/styles/react-semantic-alert.css';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sums: [],\n      name: '',\n      category: '',\n      price: ''\n    };\n    this.serverRequest = this.serverRequest.bind(this);\n    this.postRequest = this.postRequest.bind(this);\n    this.updateName = this.updateName.bind(this);\n    this.updateCategory = this.updateCategory.bind(this);\n    this.updatePrice = this.updatePrice.bind(this);\n  }\n\n  updateName(e) {\n    this.setState({\n      name: e\n    });\n  }\n\n  updateCategory(e) {\n    this.setState({\n      category: e\n    });\n  }\n\n  updatePrice(e) {\n    this.setState({\n      price: e\n    });\n  }\n  /*\n  serverRequest(){\n    $.get(\"http://localhost:5000/api/logs/items\", res => {\n      console.log(res);\n      this.setState({\n        sums: res\n      });\n    });\n  }\n  */\n\n\n  serverRequest() {\n    axios.get('http://localhost:5000/api/logs/items').then(response => {\n      console.log(response.data);\n      this.setState({\n        sums: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {});\n  }\n  /*\n   postRequest(){\n     $.post(\n       \"http://localhost:5000/api/logs/items\",\n       {\n         \"name\":\"tea\",\n         \"category\": \"food\",\n         \"price\": 120,\n         \"date\": \"2019/11/12\",\n       }\n     );\n   }*/\n\n\n  postRequest() {\n    var t = new Date();\n    axios.post('http://localhost:5000/api/logs/items', {\n      'name': this.state.name,\n      'category': this.state.category,\n      'price': Number(this.state.price),\n      'date': t.getFullYear() + '/' + (t.getMonth() + 1) + '/' + t.getDate()\n    }).then(function (response) {\n      setTimeout(() => {\n        toast({\n          type: 'success',\n          icon: 'envelope',\n          title: 'Success!!',\n          description: 'Successfully added your new spent',\n          animation: 'bounce',\n          time: 3000\n        });\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.serverRequest();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ui grid container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Hello, Soya\")), React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(AddRecord, {\n      postRequest: this.postRequest,\n      updateName: this.updateName,\n      updateCategory: this.updateCategory,\n      updatePrice: this.updatePrice,\n      name: this.state.name,\n      category: this.state.category,\n      price: this.state.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Chart, {\n      className: \"column\",\n      datas: this.state.sums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(RenderPrice, {\n      className: \"column\",\n      datas: this.state.sums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass AddRecord extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.open = () => this.setState({\n      open: true\n    });\n\n    this.close = () => this.setState({\n      open: false\n    });\n\n    this.state = {\n      open: false,\n      name: '',\n      category: '',\n      price: 0\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onNameChange = this.onNameChange.bind(this);\n    this.onPriceChange = this.onPriceChange.bind(this);\n  }\n\n  onChange(value) {\n    console.log('changed');\n    this.props.updateCategory(value);\n  }\n\n  onNameChange(e) {\n    console.log(e.target.value);\n    this.props.updateName(e.target.value);\n  }\n\n  onPriceChange(e) {\n    console.log('changed');\n    this.props.updatePrice(e.target.value);\n  }\n\n  render() {\n    const states = [{\n      code: \"Transport\",\n      text: \"Transport\"\n    }, {\n      code: \"Food\",\n      text: \"Food\"\n    }, {\n      code: \"Book\",\n      text: \"Book\"\n    }, {\n      code: \"Nichi\",\n      text: \"Nichi\"\n    }];\n    var options = states.map(n => React.createElement(\"option\", {\n      key: n.code,\n      value: n.code,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, n.text));\n    const Options = [{\n      value: \"Transport\",\n      text: \"Transport\"\n    }, {\n      value: \"Food\",\n      text: \"Food\"\n    }, {\n      value: \"Book\",\n      text: \"Book\"\n    }, {\n      value: \"Nichi\",\n      text: \"Nichi\"\n    }];\n    return React.createElement(Modal, {\n      trigger: React.createElement(Button, {\n        onClick: this.open,\n        className: \"ui primary button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"money icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), \" Add Record\"),\n      open: this.state.open,\n      onClose: this.close,\n      basic: true,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(SemanticToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Add a new Record\"), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Modal.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Detail\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      placeholder: \"Name\",\n      value: this.props.name,\n      onChange: this.onNameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Category\"), React.createElement(Select, {\n      placeholder: \"Select Category\",\n      options: Options,\n      value: this.props.category,\n      onChange: (e, {\n        value\n      }) => this.onChange(value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"input\", {\n      placeholder: \"Price\",\n      value: this.props.price,\n      onChange: this.onPriceChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.props.postRequest,\n      disabled: !this.props.name || !this.props.category || !this.props.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(Button, {\n      onClick: this.close,\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), \"Cancel\")))));\n  }\n\n}\n\nfunction Chart(props) {\n  return React.createElement(ResponsiveContainer, {\n    width: \"70%\",\n    height: 300,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(BarChart, {\n    data: props.datas,\n    stackOffset: \"sign\",\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }), React.createElement(XAxis, {\n    dataKey: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }), React.createElement(YAxis, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }), React.createElement(Tooltip, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }), React.createElement(Legend, {\n    verticalAlign: \"price\",\n    height: 30,\n    stroke: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }), React.createElement(ReferenceLine, {\n    y: 0,\n    stroke: \"#000\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }), React.createElement(Brush, {\n    dataKey: \"date\",\n    height: 30,\n    stroke: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"price\",\n    stackId: \"a\",\n    fill: \"#82ca9d\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"diff\",\n    stackId: \"a\",\n    fill: \"#8884d8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }), React.createElement(Bar, {\n    dataKey: \"total\",\n    fill: \"#ffc658\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  })));\n}\n\nfunction RenderPrice(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"Total earn\"), props.datas.map((data, id, arr) => id === arr.length - 1 && React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, \"\\xA5\", data.total)));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/manabesoya/dev/go/src/github.com/SoyaManabe/hockey-stick/client/src/Home.js"],"names":["$","React","BarChart","Bar","Brush","ReferenceLine","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","axios","Button","Header","Modal","Icon","Form","Select","SemanticToastContainer","toast","Home","Component","constructor","props","state","sums","name","category","price","serverRequest","bind","postRequest","updateName","updateCategory","updatePrice","e","setState","get","then","response","console","log","data","catch","error","finally","t","Date","post","Number","getFullYear","getMonth","getDate","setTimeout","type","icon","title","description","animation","time","componentDidMount","render","AddRecord","open","close","onChange","onNameChange","onPriceChange","value","target","states","code","text","options","map","n","Options","Chart","datas","top","right","left","bottom","RenderPrice","id","arr","length","total"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport React from 'react';\nimport {\n  BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis,\n  CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport axios from 'axios';\n\nimport {Button, Header, Modal, Icon, Form, Select} from 'semantic-ui-react'\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\nimport 'react-semantic-toasts/styles/react-semantic-alert.css';\n\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sums: [],\n      name: '',\n      category: '',\n      price: ''\n    };\n    this.serverRequest = this.serverRequest.bind(this);\n    this.postRequest = this.postRequest.bind(this);\n    this.updateName = this.updateName.bind(this);\n    this.updateCategory = this.updateCategory.bind(this);\n    this.updatePrice = this.updatePrice.bind(this);\n  }\n  updateName(e) {\n    this.setState({name: e});\n  }\n  updateCategory(e) {\n    this.setState({category: e});\n  }\n  updatePrice(e) {\n    this.setState({price: e});\n  }\n  /*\n  serverRequest(){\n    $.get(\"http://localhost:5000/api/logs/items\", res => {\n      console.log(res);\n      this.setState({\n        sums: res\n      });\n    });\n  }\n  */\n serverRequest() {\n   axios.get('http://localhost:5000/api/logs/items')\n    .then(response => {\n        console.log(response.data);\n        this.setState({\n          sums: response.data\n        });\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .finally(function () {\n    });\n }\n /*\n  postRequest(){\n    $.post(\n      \"http://localhost:5000/api/logs/items\",\n      {\n        \"name\":\"tea\",\n        \"category\": \"food\",\n        \"price\": 120,\n        \"date\": \"2019/11/12\",\n      }\n    );\n  }*/\n  postRequest() {\n    var t = new Date();\n    axios.post('http://localhost:5000/api/logs/items', {\n      'name':this.state.name,\n      'category': this.state.category,\n      'price': Number(this.state.price),\n      'date': t.getFullYear()+'/'+(t.getMonth()+1)+'/'+t.getDate()\n    })\n    .then(function (response) {\n      setTimeout(() => {\n        toast({\n            type: 'success',\n            icon: 'envelope',\n            title: 'Success!!',\n            description: 'Successfully added your new spent',\n            animation: 'bounce',\n            time: 3000\n        });\n    });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n  componentDidMount(){\n    this.serverRequest();\n  }\n  render() {\n    return (\n      <div className=\"ui grid container\">\n        <div className=\"row centered\">\n          <h1>Hello, Soya</h1>\n        </div>\n        <div className=\"row centered\">\n          <AddRecord postRequest={this.postRequest} \n            updateName={this.updateName}\n            updateCategory={this.updateCategory}\n            updatePrice={this.updatePrice}\n            name={this.state.name}\n            category={this.state.category}\n            price={this.state.price}\n            \n          />\n        </div>\n        <div className=\"row centered\">\n          <Chart className=\"column\" datas={this.state.sums}/>\n          <RenderPrice className=\"column\" datas={this.state.sums}/>\n        </div>\n      </div>\n    )\n  }\n}\nclass AddRecord extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      open: false,\n      name: '',\n      category: '',\n      price: 0,\n    }; \n    this.onChange = this.onChange.bind(this);\n    this.onNameChange = this.onNameChange.bind(this);\n    this.onPriceChange = this.onPriceChange.bind(this);\n  }\n  open = () => this.setState({ open: true })\n  close = () => this.setState({ open: false })\n\n  onChange(value){\n    console.log('changed');\n    this.props.updateCategory(value);\n  }\n\n  onNameChange(e){\n    console.log(e.target.value);\n    this.props.updateName(e.target.value);\n  }\n\n  onPriceChange(e){\n    console.log('changed');\n    this.props.updatePrice(e.target.value);\n  }\n\n  render() {\n    const states = [\n      {code:\"Transport\", text:\"Transport\"},\n      {code:\"Food\", text:\"Food\"},\n      {code:\"Book\", text:\"Book\"},\n      {code:\"Nichi\", text:\"Nichi\"},\n    ];\n    var options = states.map(\n      (n) => (\n        <option key={n.code} value={n.code}>\n          {n.text}\n        </option>\n      )\n    );\n    const Options = [\n      {value:\"Transport\", text:\"Transport\"},\n      {value:\"Food\", text:\"Food\"},\n      {value:\"Book\", text:\"Book\"},\n      {value:\"Nichi\", text:\"Nichi\"},\n    ];\n    return(\n      <Modal trigger={\n        <Button onClick={this.open} className=\"ui primary button\">\n          <i className=\"money icon\"></i> Add Record\n        </Button>}\n        open={this.state.open}\n        onClose={this.close}\n        basic\n        size='small'\n      >\n        <SemanticToastContainer />\n        <Modal.Header>Add a new Record</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <Header>Detail</Header>\n            <Form>\n              <Form.Field>\n                <label>Name</label>\n                <input placeholder=\"Name\" value={this.props.name}\n                  onChange={this.onNameChange}/>\n              </Form.Field>\n              <Form.Field>\n                <label>Category</label>\n              <Select placeholder='Select Category' options={Options} \n                value={this.props.category} onChange={(e, {value}) => this.onChange(value)}/>\n              </Form.Field>\n              <Form.Field>\n                <label>Price</label>\n                <input placeholder=\"Price\" value={this.props.price} \n                  onChange={this.onPriceChange}/>\n              </Form.Field>\n              <Button \n                onClick={this.props.postRequest}\n                disabled={!this.props.name\n                  || !this.props.category\n                  || !this.props.price\n                }\n              >Submit</Button>\n              <Button onClick={this.close} negative>\n                <Icon name='remove'/>Cancel\n              </Button>\n            </Form>\n          </Modal.Description>\n        </Modal.Content>\n      </Modal>\n    )\n  }\n}\nfunction Chart(props) {\n  return (\n    <ResponsiveContainer width=\"70%\" height={300}>\n      <BarChart\n        data={props.datas}\n        stackOffset=\"sign\"\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"date\" />\n        <YAxis />\n        <Tooltip />\n        <Legend verticalAlign=\"price\" height={30} stroke=\"#8884d8\" />\n        <ReferenceLine y={0} stroke=\"#000\" />\n        <Brush dataKey=\"date\" height={30} stroke=\"#8884d8\" />\n        <Bar dataKey=\"price\" stackId=\"a\" fill=\"#82ca9d\" />\n        <Bar dataKey=\"diff\" stackId=\"a\" fill=\"#8884d8\" />\n        <Bar dataKey=\"total\" fill=\"#ffc658\" />\n      </BarChart>\n    </ResponsiveContainer>\n  )\n}\nfunction RenderPrice(props) {\n  return (\n    <div>\n    <h2>Total earn</h2>\n    {props.datas.map((data, id, arr) => (\n      id === arr.length-1 && \n        <h2>Â¥{data.total}</h2>\n    ))}\n    </div>\n  )\n}\nexport default Home; \n"]},"metadata":{},"sourceType":"module"}